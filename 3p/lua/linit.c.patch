--- linit.c.orig
+++ linit.c
@@ -50,6 +50,8 @@
 #include "third_party/lua/lualib.h"
 __static_yoink("lua_notice");

+extern int LuaRe(lua_State *L);
+extern int LuaPath(lua_State *L);

 /*
 ** these libs are loaded by lua.c and are readily available to any Lua
@@ -66,6 +68,8 @@
   {LUA_UTF8LIBNAME, luaopen_utf8},
   {LUA_DBLIBNAME, luaopen_debug},
+  {"re", LuaRe},
+  {"path", LuaPath},
   {NULL, NULL}
 };

